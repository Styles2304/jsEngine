let Ship = function(x, y, width, height, fps) {
    Sprite.call(this, x, y, width, height, fps);
    this.sprite.animations = {
        animationList: ["idle"],
        idle: {
            ref: 0,
            speed: 1,
            loop: [1],
            frames: {
                1: [["0,0,0",[0,[11,12,13]],[1,[10,14]],[2,[9,15]],[3,[8,16]],[4,[7,17]],[5,[7,17]],[6,[7,17]],[7,[7,17]],[8,[7,17]],[9,[7,17]],[10,[6,18]],[11,[5,19]],[12,[4,20]],[13,[3,21]],[14,[2,11,12,13,22]],[15,[1,10,14,23]],[16,[0,9,15,24]],[17,[0,9,15,24]],[18,[0,8,10,11,12,13,14,16,24]],[19,[0,7,17,24]],[20,[0,6,18,24]],[21,[0,5,19,24]],[22,[0,4,20,24]],[23,[0,1,2,3,21,22,23,24]]],["100,0,0",[1,[11,12,13]],[2,[10,12,14]],[3,[9,11,13,15]],[4,[8,10,14,16]],[5,[8,10,14,16]],[6,[8,10,14,16]],[7,[8,10,14,16]],[8,[8,11,13,16]],[9,[8,12,16]],[10,[7,10,14,17]],[11,[6,10,14,18]],[12,[5,7,9,15,17,19]],[13,[4,5,7,8,11,12,13,16,17,19,20]],[14,[4,5,7,10,14,17,19,20]],[15,[4,5,9,15,19,20]],[16,[4,5,8,16,19,20]],[17,[4,5,8,16,19,20]],[18,[3,4,5,19,20,21]],[19,[2,3,4,20,21,22]],[20,[2,3,21,22]],[21,[2,3,21,22]],[22,[2,3,21,22]]],["191,0,0",[2,[11,13]],[3,[10,14]],[4,[9,15]],[5,[9,15]],[6,[9,15]],[7,[9,15]],[8,[9,10,14,15]],[9,[9,10,11,13,14,15]],[10,[8,9,11,12,13,15,16]],[11,[7,8,11,12,13,16,17]],[12,[6,10,11,12,13,14,18]],[13,[6,9,10,14,15,18]],[14,[3,6,8,9,15,16,18,21]],[15,[2,3,6,7,8,16,17,18,21,22]],[16,[1,2,3,6,7,17,18,21,22,23]],[17,[1,2,3,6,7,17,18,21,22,23]],[18,[1,2,6,7,17,18,22,23]],[19,[1,5,6,18,19,23]],[20,[1,4,5,19,20,23]],[21,[1,4,20,23]],[22,[1,23]]],["255,204,0",[3,[12]],[4,[12,13]],[5,[11,12]],[6,[11,12]],[7,[11,12]]],["255,204,200",[4,[11]],[5,[13]],[6,[13]],[7,[13]],[8,[12]]],["100,100,100",[7,[4,20]],[8,[4,20]],[9,[4,20]],[10,[4,20]],[15,[11]],[16,[11]],[17,[12]]],["40,40,40",[8,[3]],[9,[2,22]],[10,[2,22]],[11,[2,4,20,22]],[12,[2,3,21,22]],[13,[2,22]],[15,[13]],[16,[10,14]],[17,[10,14]]],["55,55,55",[8,[21]],[9,[3,21]],[10,[3,21]],[11,[3,9,15,21]],[12,[8,16]],[15,[12]],[16,[12,13]],[17,[11,13]]]]
            }
        }
    }
}

Ship.prototype = Object.create(Sprite.prototype);
Ship.prototype.oldInit = Ship.prototype.init;
Ship.prototype.oldUpdate = Ship.prototype.update;
Ship.prototype.oldDraw = Ship.prototype.draw;
Ship.prototype.init = function() {
    this.oldInit();
    this.setOffset(5,5);
    this.enablePhysics();
    this.setAnchor(this.center.x, this.center.y);
    this.setAngularPhysics(
        10,     // Max Angular Velocity
        0.25,    // Angular Drag
        200,     // Max Velocity in pixels per second
        0.25     // Drag
    );
    this.collideWithWorld(true);
    // this.lockVelocityToRotation();
    this.debugSprite();
}
Ship.prototype.update = function() {
    var _p = this.physics;
    var _g = eDev.game;

    if (_g.controls.up) {
        this.setVelocityFromAngle(_p.angle, [5,5]);
        // this.setLockedVelocityFromAngle(5);
    } else {
        _p.thrusting = 0;
    }
    if (_g.controls.left) { this.setAngularVelocity(-0.5); }
    if (_g.controls.right) { this.setAngularVelocity(0.5); }

    this.oldUpdate();
}